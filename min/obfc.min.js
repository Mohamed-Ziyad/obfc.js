// Object Based Flow Charts 
// obfc.js, v1.1
// Copyright (c)2017 Erdinç Uzun
// Distributed under MIT license
// https://github.com/erdincuzun/obfc.js
function prepare_SVG(n){var i,r,t;if(id_theSVG=n,line_array=[],object_array=[],document.getElementById(id_theSVG).innerHTML='<defs><marker id="arrow" markerWidth="8" markerHeight="10" refX="8" refY="3" orient="auto" markerUnits="strokeWidth"> <path d="M0,0 L0,6 L9,3 z" fill="black" /> <\/marker> <\/defs>',document.getElementById(id_theSVG).innerHTML+='<defs><marker id="arrow2" markerWidth="8" markerHeight="10" refX="8" refY="3" orient="auto" markerUnits="strokeWidth"> <path d="M0,0 L0,6 L9,3 z" fill="red" /> <\/marker> <\/defs>',open_ruler){for(document.getElementById(id_theSVG).innerHTML+='<defs><pattern id="smallGrid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="gray" stroke-width="0.5" /><\/pattern>',document.getElementById(id_theSVG).innerHTML+='<pattern id="grid" width="100" height="100" patternUnits="userSpaceOnUse"><rect width="100" height="100" fill="url(#smallGrid)" /><path d="M 100 0 L 0 0 0 100" fill="none" stroke="gray" stroke-width="1" /><\/pattern><\/defs>',document.getElementById(id_theSVG).innerHTML+='<rect width="100%" height="100%" fill="url(#grid)" />',i=document.getElementById(id_theSVG).clientWidth/100,r=document.getElementById(id_theSVG).clientHeight/100,i==0&&(i=10),r==0&&(r=10),document.getElementById(id_theSVG).innerHTML+="<text x='0' y='13' fill='blue'>0,0<\/text>",t=1;t<i;t++)document.getElementById(id_theSVG).innerHTML+='<text x="'+100*t+'" y="13" fill="blue" text-anchor="middle">'+100*t+"<\/text>";for(t=1;t<r;t++)document.getElementById(id_theSVG).innerHTML+='<text x="0" y="'+(100*t+6)+'" fill="blue">'+100*t+"<\/text>"}}function Process(n,t,i,r,u,f,e,o,s){this.Name="Process";this.ID="";this.middle_x=n;this.middle_y=t;(typeof i=="undefined"||i==null)&&(i=1);this.size=i;this.text=r;(typeof u=="undefined"||u==null)&&(u=1);this.text_size=u*i;this.probable_x_y=[[0,0],[0,0],[0,0],[0,0]];this.points=[!1,!1,!1,!1];this.width=125*this.size;this.height=50*this.size;this.start_x=this.middle_x-this.width/2;this.start_y=this.middle_y-this.height/2;this.text=[];this.text=typeof r=="undefined"||r==null?[]:typeof r=="string"?[r]:r;this.description="";this.description=typeof f=="undefined"||f==null?"":f;this.fill_color="white";this.fill_color=typeof e=="undefined"||e==null?fill_color:e;this.stroke_color="black";this.stroke_color=typeof e=="undefined"||e==null?stroke_color:o;this.text_color="black";this.text_color=typeof s=="undefined"||s==null?text_color:s;this.probable_x_y[0][0]=this.middle_x;this.probable_x_y[0][1]=this.middle_y-this.height/2;this.probable_x_y[1][0]=this.middle_x;this.probable_x_y[1][1]=this.middle_y+this.height/2;this.probable_x_y[2][0]=this.middle_x-this.width/2;this.probable_x_y[2][1]=this.middle_y;this.probable_x_y[3][0]=this.middle_x+this.width/2;this.probable_x_y[3][1]=this.middle_y;this.Draw=function(){return temp='<g id="'+this.ID+'" onclick="doClick_Object(evt)" style="cursor:pointer">',temp+='<rect x="'+this.start_x+'" y="'+this.start_y+'" width="'+this.width+'" height="'+this.height+'" style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',this.text.length>0&&(temp+=writeText(this.text,this.text_size,"normal",this.middle_x,this.middle_y,this.height,"center",s)),temp+="<\/g>"}}function PredefinedProcess(n,t,i,r,u,f,e,o,s){Process.call(this,n,t,i,r,u,f,e,o,s);this.Name="Predefined Process";this.Draw=function(){return temp=this.g_start,temp+='<rect x="'+this.start_x+'" y="'+this.start_y+'" width="'+this.width+'" height="'+this.height+'" style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',temp+='<line x1="'+(this.start_x+this.width/10)+'" y1="'+this.start_y+'" x2="'+(this.start_x+this.width/10)+'" y2="'+(this.start_y+this.height)+'" style="stroke:'+this.stroke_color+';stroke-width:2" />',temp+='<line x1="'+(this.start_x+this.width-this.width/10)+'" y1="'+this.start_y+'" x2="'+(this.start_x+this.width-this.width/10)+'" y2="'+(this.start_y+this.height)+'" style="stroke:'+this.stroke_color+';stroke-width:2" />',this.text.length>0&&(temp+=writeText(this.text,this.text_size,"normal",this.middle_x,this.middle_y,this.height,"center",s)),temp+=this.g_end}}function AlternateProcess(n,t,i,r,u,f,e,o,s){Process.call(this,n,t,i,r,u,f,e,o,s);this.Name="Alternate Process";this.Draw=function(){var n=5*this.size,t=5*this.size;return temp=this.g_start,temp+='<rect x="'+this.start_x+'" y="'+this.start_y+'" rx="'+n+'" ry="'+t+'" width="'+this.width+'" height="'+this.height+'" style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',this.text.length>0&&(temp+=writeText(this.text,this.text_size,"normal",this.middle_x,this.middle_y,this.height,"center",s)),temp+=this.g}}function Delay(n,t,i,r,u,f,e,o,s){Process.call(this,n,t,i,r,u,f,e,o,s);this.Name="Delay";this.width=100*this.size;this.height=50*this.size;this.probable_x_y=[[0,0],[0,0],[0,0]];this.probable_x_y[0][0]=this.middle_x*this.size-12*this.size;this.probable_x_y[0][1]=this.middle_y-this.height/2;this.probable_x_y[1][0]=this.middle_x*this.size-12*this.size;this.probable_x_y[1][1]=this.middle_y+this.height/2;this.probable_x_y[2][0]=this.middle_x-this.width/2-12*this.size;this.probable_x_y[2][1]=this.middle_y;this.Draw=function(){var t=5*this.size,i=5*this.size,n=220*this.size;return temp='<g id="'+this.ID+'" onclick="doClick_Object(evt)" style="cursor:pointer">',temp+='<path d="M'+this.start_x+" "+this.start_y+" L"+(this.start_x+this.width/2)+" "+this.start_y+" C"+(this.start_x+this.width/2)+" "+this.start_y+", "+(this.start_x+n)+" "+(this.start_y+this.height/2)+", "+(this.start_x+this.width/2)+" "+(this.start_y+this.height)+" L"+this.start_x+" "+(this.start_y+this.height)+" L"+this.start_x+" "+this.start_y+'" style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',this.text.length>0&&(temp+=writeText(this.text,this.text_size,"normal",this.middle_x-25*this.size,this.middle_y,this.height,"center",s)),temp+="<\/g>"}}function Preparation(n,t,i,r,u,f,e,o,s){Process.call(this,n,t,i,r,u,f,e,o,s);this.Name="Preparation";this.width=150*this.size;this.height=50*this.size;this.start_x=this.middle_x-this.width/2;this.start_y=this.middle_y-this.height/2;this.probable_x_y[0][0]=this.middle_x;this.probable_x_y[0][1]=this.middle_y-this.height/2;this.probable_x_y[1][0]=this.middle_x;this.probable_x_y[1][1]=this.middle_y+this.height/2;this.probable_x_y[2][0]=this.middle_x-this.width/2;this.probable_x_y[2][1]=this.middle_y;this.probable_x_y[3][0]=this.middle_x+this.width/2;this.probable_x_y[3][1]=this.middle_y;this.Draw=function(){return temp='<g id="'+this.ID+'" onclick="doClick_Object(evt)" style="cursor:pointer">',temp+='<polygon points="'+(this.start_x+25*this.size)+","+this.start_y+" "+(this.start_x+this.width-25*this.size)+","+this.start_y+" "+(this.start_x+this.width)+","+(this.start_y+this.height-25*this.size)+" "+(this.start_x+this.width-25*this.size)+","+(this.start_y+this.height)+" "+(this.start_x+25*this.size)+","+(this.start_y+this.height)+" "+this.start_x+","+(this.start_y+this.height-25*this.size)+'" style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',this.text.length>0&&(temp+=writeText(this.text,this.text_size,"normal",this.middle_x,this.middle_y,this.height,"center",s)),temp+="<\/g>"}}function ManualOperation(n,t,i,r,u,f,e,o,s){Process.call(this,n,t,i,r,u,f,e,o,s);this.Name="Manual Operation";this.probable_x_y[2][0]=this.middle_x-(this.width/2-10*this.size);this.probable_x_y[2][1]=this.middle_y;this.probable_x_y[3][0]=this.middle_x+(this.width/2-10*this.size);this.probable_x_y[3][1]=this.middle_y;this.Draw=function(){return temp='<g id="'+this.ID+'" onclick="doClick_Object(evt)" style="cursor:pointer">',temp+='<polygon points="'+this.start_x+","+this.start_y+" "+(this.start_x+this.width)+","+this.start_y+" "+(this.start_x+this.width-20*this.size)+","+(this.start_y+this.height)+" "+(this.start_x+20*this.size)+","+(this.start_y+this.height)+' " style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',this.text.length>0&&(temp+=writeText(this.text,this.text_size,"normal",this.middle_x,this.middle_y,this.height,"center",s)),temp+="<\/g>"}}function Terminal(n,t,i,r,u,f,e,o,s){Process.call(this,n,t,i,r,u,f,e,o,s);this.Name="Terminal";this.probable_x_y=[[0,0],[0,0]];this.width=125*i;this.height=50*i;this.start_x=n-this.width/2;this.start_y=t-this.height/2;this.probable_x_y[0][0]=this.middle_x;this.probable_x_y[0][1]=this.middle_y-this.height/2;this.probable_x_y[1][0]=this.middle_x;this.probable_x_y[1][1]=this.middle_y+this.height/2;this.Draw=function(){var n=25*this.size,t=35*this.size;return temp='<g id="'+this.ID+'" onclick="doClick_Object(evt)" style="cursor:pointer">',temp+='<rect x="'+this.start_x+'" y="'+this.start_y+'" rx="'+n+'" ry="'+t+'" width="'+this.width+'" height="'+this.height+'" style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',this.text.length>0&&(temp+=writeText(this.text,this.text_size,"normal",this.middle_x,this.middle_y,this.height,"center",s)),temp+="<\/g>"}}function Decision(n,t,i,r,u,f,e,o,s){Process.call(this,n,t,i,r,u,f,e,o,s);this.Name="Decision";this.width_c=75*this.size;this.height_c=75*this.size;this.start_x_c=this.middle_x-this.width_c/2;this.start_y_c=this.middle_y-this.height_c/2;this.height=2*Math.sqrt(this.width_c*this.width_c/2);this.width=2*Math.sqrt(this.width_c*this.width_c/2);this.start_x=this.middle_x-this.width/2;this.start_y=this.middle_y-this.width/2;this.sekmiddle_y=this.middle_y+Math.sqrt(this.width*this.width+this.height*this.height)/2;this.probable_x_y[0][0]=this.middle_x;this.probable_x_y[0][1]=this.middle_y-Math.sqrt(this.width_c*this.width_c/2);this.probable_x_y[1][0]=this.middle_x;this.probable_x_y[1][1]=this.middle_y+Math.sqrt(this.width_c*this.width_c/2);this.probable_x_y[2][0]=this.middle_x-Math.sqrt(this.width_c*this.width_c/2);this.probable_x_y[2][1]=this.middle_y;this.probable_x_y[3][0]=this.middle_x+Math.sqrt(this.width_c*this.width_c/2);this.probable_x_y[3][1]=this.middle_y;this.Draw=function(){return temp='<g id="'+this.ID+'" onclick="doClick_Object(evt)" style="cursor:pointer">',temp+='<rect transform="rotate(45 '+this.middle_x+" "+this.middle_y+')" x="'+this.start_x_c+'" y="'+this.start_y_c+'" width="'+this.width_c+'" height="'+this.height_c+'" style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',this.text.length>0&&(temp+=writeText(this.text,this.text_size,"normal",this.middle_x,this.middle_y,this.height*2/5,"center",s)),temp+="<\/g>"}}function Connector(n,t,i,r,u,f,e,o,s){Process.call(this,n,t,i,r,u,f,e,o,s);this.Name="Connector (Inspection)";this.width=30*i;this.height=30*i;this.start_x=n-this.width/2;this.start_y=t-this.height/2;this.probable_x_y[0][0]=this.middle_x;this.probable_x_y[0][1]=this.middle_y-this.height/2;this.probable_x_y[1][0]=this.middle_x;this.probable_x_y[1][1]=this.middle_y+this.height/2;this.probable_x_y[2][0]=this.middle_x-this.width/2;this.probable_x_y[2][1]=this.middle_y;this.probable_x_y[3][0]=this.middle_x+this.width/2;this.probable_x_y[3][1]=this.middle_y;this.Draw=function(){return temp='<g id="'+this.ID+'" onclick="doClick_Object(evt)" style="cursor:pointer">',temp+='<circle cx="'+this.middle_x+'" cy="'+this.middle_y+'" r="'+this.width/2+'" style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',this.text.length>0&&(temp+=writeText(this.text,this.text_size,"normal",this.middle_x,this.middle_y-2,this.height,"center",s)),temp+="<\/g>"}}function OffPage_Connector(n,t,i,r,u,f,e,o,s){Process.call(this,n,t,i,r,u,f,e,o,s);this.Name="Off-Page Connector";this.width=40*i;this.height=40*i;this.start_x=n-this.width/2;this.start_y=t-this.height/2;this.probable_x_y[0][0]=this.middle_x;this.probable_x_y[0][1]=this.middle_y-this.height/2;this.probable_x_y[1][0]=this.middle_x;this.probable_x_y[1][1]=this.middle_y+this.height/2;this.probable_x_y[2][0]=this.middle_x-this.width/2;this.probable_x_y[2][1]=this.middle_y-5*this.size;this.probable_x_y[3][0]=this.middle_x+this.width/2;this.probable_x_y[3][1]=this.middle_y-5*this.size;this.Draw=function(){return temp='<g id="'+this.ID+'" onclick="doClick_Object(evt)" style="cursor:pointer">',style=temp+='<polygon points="'+this.start_x+","+this.start_y+" "+(this.start_x+this.width)+","+this.start_y+" "+(this.start_x+this.width)+","+(this.start_y+this.height-10*this.size)+" "+this.middle_x+","+(this.middle_y+this.height/2)+" "+this.start_x+","+(this.start_y+this.height-10*this.size)+' " style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',this.text.length>0&&(temp+=writeText(this.text,this.text_size,"normal",this.middle_x,this.middle_y-5*this.size,this.height,"center",s)),temp+="<\/g>"}}function OR(n,t,i,r,u,f,e){Connector.call(this,n,t,i,"","",r,u,f,e);this.Name="OR";this.Draw=function(){return temp='<g id="'+this.ID+'" onclick="doClick_Object(evt)" style="cursor:pointer">',temp+='<circle cx="'+this.middle_x+'" cy="'+this.middle_y+'" r="'+this.width/2+'" style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',temp+='<line x1="'+this.middle_x+'" y1="'+(this.middle_y-this.width/2)+'" x2="'+this.middle_x+'" y2="'+(this.middle_y+this.width/2)+'" style="stroke:'+this.stroke_color+';stroke-width:2" />',temp+='<line x1="'+(this.middle_x-this.width/2)+'" y1="'+this.middle_y+'" x2="'+(this.middle_x+this.width/2)+'" y2="'+this.middle_y+'" style="stroke:'+this.stroke_color+';stroke-width:2" />',temp+="<\/g>"}}function SummingJunction(n,t,i,r,u,f,e){Connector.call(this,n,t,i,"","",r,u,f,e);this.Name="Summing Junction";this.Draw=function(){var n=Math.sqrt(this.width*this.width/8);return temp='<g id="'+this.ID+'" onclick="doClick_Object(evt)" style="cursor:pointer">',temp+='<circle cx="'+this.middle_x+'" cy="'+this.middle_y+'" r="'+this.width/2+'" style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',temp+='<line x1="'+(this.middle_x-n)+'" y1="'+(this.middle_y-n)+'" x2="'+(this.middle_x+n)+'" y2="'+(this.middle_y+n)+'" style="stroke:'+this.stroke_color+';stroke-width:2" />',temp+='<line x1="'+(this.middle_x+n)+'" y1="'+(this.middle_y-n)+'" x2="'+(this.middle_x-n)+'" y2="'+(this.middle_y+n)+'" style="stroke:'+this.stroke_color+';stroke-width:2" />',temp+="<\/g>"}}function Data(n,t,i,r,u,f,e,o,s){Process.call(this,n,t,i,r,u,f,e,o,s);this.Name="Data (Input/Output)";this.probable_x_y[0][0]=this.middle_x;this.probable_x_y[0][1]=this.middle_y-this.height/2;this.probable_x_y[1][0]=this.middle_x;this.probable_x_y[1][1]=this.middle_y+this.height/2;this.probable_x_y[2][0]=this.middle_x-(this.width/2-10*this.size);this.probable_x_y[2][1]=this.middle_y;this.probable_x_y[3][0]=this.middle_x+(this.width/2-10*this.size);this.probable_x_y[3][1]=this.middle_y;this.Draw=function(){return temp='<g id="'+this.ID+'" onclick="doClick_Object(evt)" style="cursor:pointer">',temp+='<polygon points="'+(this.start_x+20*this.size)+","+this.start_y+" "+(this.start_x+this.width)+","+this.start_y+" "+(this.start_x+this.width-20*this.size)+","+(this.start_y+this.height)+" "+this.start_x+","+(this.start_y+this.height)+'" style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',this.text.length>0&&(temp+=writeText(this.text,this.text_size,"normal",this.middle_x,this.middle_y,this.height,"center",s)),temp+="<\/g>"}}function Document(n,t,i,r,u,f,e,o,s){Process.call(this,n,t,i,r,u,f,e,o,s);this.Name="Document";this.probable_x_y[2][0]=this.middle_x-this.width/2+1*this.size;this.probable_x_y[2][1]=this.middle_y;this.probable_x_y[3][0]=this.middle_x+this.width/2-1*this.size;this.probable_x_y[3][1]=this.middle_y;this.Draw=function(){return temp='<g id="'+this.ID+'" onclick="doClick_Object(evt)" style="cursor:pointer">',temp+='<path d="M '+this.start_x+" "+this.start_y+" L "+this.start_x+" "+(this.start_y+this.height)+" ",temp+="Q "+(this.start_x+this.width/4)+" "+(this.start_y+this.height+15*this.size)+", "+(this.start_x+this.width/2)+" "+(this.start_y+this.height),temp+="T "+(this.start_x+this.width)+" "+(this.start_y+this.height),temp+="L "+(this.start_x+this.width)+" "+this.start_y+' Z"',temp+=' style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',this.text.length>0&&(temp+=writeText(this.text,this.text_size,"normal",this.middle_x,this.middle_y,this.height,"center",s)),temp+="<\/g>"}}function MultiDocument(n,t,i,r,u,f,e,o,s){Process.call(this,n,t,i,r,u,f,e,o,s);this.Name="Multi - Document";this.probable_x_y[1][0]=this.middle_x;this.probable_x_y[1][1]=this.middle_y+this.height/2+5*this.size;this.probable_x_y[2][0]=this.middle_x-this.width/2-8*this.size;this.probable_x_y[2][1]=this.middle_y+5*this.size;this.Draw=function(){var t,n;for(temp='<g id="'+this.ID+'" onclick="doClick_Object(evt)" style="cursor:pointer">',t=0;t<3;t++)n=-t*4*this.size,temp+='<path d="M '+(this.start_x+n)+" "+(this.start_y-n)+" L "+(this.start_x+n)+" "+(this.start_y-n+this.height)+" ",temp+="Q "+(this.start_x+n+this.width/4)+" "+(this.start_y-n+this.height+15*this.size)+", "+(this.start_x+n+this.width/2)+" "+(this.start_y-n+this.height),temp+="T "+(this.start_x+n+this.width)+" "+(this.start_y-n+this.height),temp+="L "+(this.start_x+n+this.width)+" "+(this.start_y-n)+' Z"',temp+=' style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />';return this.text.length>0&&(temp+=writeText(this.text,this.text_size,"normal",this.middle_x-6*this.size,this.middle_y,this.height,"center",s)),temp+="<\/g>"}}function Display(n,t,i,r,u,f,e,o,s){Process.call(this,n,t,i,r,u,f,e,o,s);this.Name="Display";this.probable_x_y[3][0]=this.middle_x+this.width/2-1*this.size;this.probable_x_y[3][1]=this.middle_y;this.Draw=function(){return temp='<g id="'+this.ID+'" onclick="doClick_Object(evt)" style="cursor:pointer">',temp+='<path d="M '+(this.start_x+15*this.size)+" "+this.start_y+" L "+(this.start_x+this.width-20*this.size)+" "+this.start_y+" ",temp+="Q "+(this.start_x+this.width+17*this.size)+" "+this.middle_y+", "+(this.start_x+this.width-20*this.size)+" "+(this.start_y+this.height),temp+="L "+(this.start_x+15*this.size)+" "+(this.start_y+this.height)+" ",temp+="L "+this.start_x+" "+this.middle_y+' Z"',temp+=' style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',this.text.length>0&&(temp+=writeText(this.text,this.text_size,"normal",this.middle_x,this.middle_y,this.height,"center",s)),temp+="<\/g>"}}function ManualInput(n,t,i,r,u,f,e,o,s){Process.call(this,n,t,i,r,u,f,e,o,s);this.Name="Manual Input";this.probable_x_y[0][0]=this.middle_x;this.probable_x_y[0][1]=this.middle_y-this.height/2+5*this.size;this.probable_x_y[2][0]=this.start_x;this.probable_x_y[2][1]=this.middle_y+3*this.size;this.Draw=function(){return temp='<g id="'+this.ID+'" onclick="doClick_Object(evt)" style="cursor:pointer">',temp+='<polygon points="'+this.start_x+","+(this.start_y+10*this.size)+" "+(this.start_x+this.width)+","+this.start_y+" "+(this.start_x+this.width)+","+(this.start_y+this.height)+" "+this.start_x+","+(this.start_y+this.height)+'" style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',this.text.length>0&&(temp+=writeText(this.text,this.text_size,"normal",this.middle_x,this.middle_y,this.height,"center",s)),temp+="<\/g>"}}function Card(n,t,i,r,u,f,e,o,s){Process.call(this,n,t,i,r,u,f,e,o,s);this.Name="Manual Input";this.probable_x_y[0][0]=this.middle_x;this.probable_x_y[0][1]=this.middle_y-this.height/2+5*this.size;this.probable_x_y[2][0]=this.start_x;this.probable_x_y[2][1]=this.middle_y+3*this.size;this.Draw=function(){return temp='<g id="'+this.ID+'" onclick="doClick_Object(evt)" style="cursor:pointer">',temp+='<polygon points="'+this.start_x+","+(this.start_y+10*this.size)+" "+(this.start_x+15*this.size)+","+this.start_y+" "+(this.start_x+this.width)+","+this.start_y+" "+(this.start_x+this.width)+","+(this.start_y+this.height)+" "+this.start_x+","+(this.start_y+this.height)+'" style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',this.text.length>0&&(temp+=writeText(this.text,this.text_size,"normal",this.middle_x,this.middle_y,this.height,"center",s)),temp+="<\/g>"}}function PunchedTape(n,t,i,r,u,f,e,o,s){Process.call(this,n,t,i,r,u,f,e,o,s);this.Name="Punched Tape";this.Draw=function(){return temp='<g id="'+this.ID+'" onclick="doClick_Object(evt)" style="cursor:pointer">',temp+='<path d="M '+this.start_x+" "+this.start_y+" L "+this.start_x+" "+(this.start_y+this.height)+" ",temp+="Q "+(this.start_x+this.width/4)+" "+(this.start_y+this.height+10*this.size)+", "+(this.start_x+this.width/2)+" "+(this.start_y+this.height),temp+="T "+(this.start_x+this.width)+" "+(this.start_y+this.height),temp+="L "+(this.start_x+this.width)+" "+this.start_y+" ",temp+="Q "+(this.start_x+this.width-this.width/4)+" "+(this.start_y-10*this.size)+", "+(this.start_x+this.width/2)+" "+this.start_y,temp+="T "+this.start_x+" "+this.start_y+' Z"',temp+=' style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',this.text.length>0&&(temp+=writeText(this.text,this.text_size,"normal",this.middle_x,this.middle_y,this.height,"center",s)),temp+="<\/g>"}}function StoredData(n,t,i,r,u,f,e,o,s){Process.call(this,n,t,i,r,u,f,e,o,s);this.Name="Stored Data";this.probable_x_y[2][0]=this.start_x+3*this.size;this.probable_x_y[2][1]=this.middle_y;this.probable_x_y[3][0]=this.middle_x+this.width/2-7*this.size;this.probable_x_y[3][1]=this.middle_y;this.Draw=function(){return temp='<g id="'+this.ID+'" onclick="doClick_Object(evt)" style="cursor:pointer">',temp+='<path d="M '+(this.start_x+15*this.size)+" "+this.start_y+" L "+(this.start_x+this.width)+" "+this.start_y+" ",temp+="Q "+(this.start_x+this.width-15*this.size)+" "+this.middle_y+","+(this.start_x+this.width)+" "+(this.start_y+this.height),0,temp+="L "+(this.start_x+15*this.size)+" "+(this.start_y+this.height)+" ",temp+="Q "+(this.start_x-10*this.size)+" "+this.middle_y+", "+(this.start_x+15*this.size)+" "+this.start_y+' Z"',temp+=' style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',this.text.length>0&&(temp+=writeText(this.text,this.text_size,"normal",this.middle_x,this.middle_y,this.height,"center",s)),temp+="<\/g>"}}function MagneticDisk(n,t,i,r,u,f,e,o,s){Process.call(this,n,t,i,r,u,f,e,o,s);this.Name="Magnetic Disk - Database";this.width=75*i;this.height=60*i;this.start_x=n-this.width/2;this.start_y=t-this.height/2;this.probable_x_y[0][0]=this.middle_x;this.probable_x_y[0][1]=this.middle_y-this.height/2;this.probable_x_y[1][0]=this.middle_x;this.probable_x_y[1][1]=this.middle_y+this.height/2;this.probable_x_y[2][0]=this.middle_x-this.width/2;this.probable_x_y[2][1]=this.middle_y-5*this.size;this.probable_x_y[3][0]=this.middle_x+this.width/2;this.probable_x_y[3][1]=this.middle_y-5*this.size;this.Draw=function(){return temp='<g id="'+this.ID+'" onclick="doClick_Object(evt)" style="cursor:pointer">',temp+='<path d="M '+this.start_x+" "+this.start_y,temp+=" Q "+n+" "+(this.middle_y-this.height/2-15*this.size)+", "+(this.start_x+this.width)+" "+this.start_y,temp+=" L "+(this.start_x+this.width)+" "+(this.start_y+this.height),temp+=" L "+this.start_x+" "+(this.start_y+this.height)+' Z"',temp+=' style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',temp+='<path d="M '+this.start_x+" "+this.start_y,temp+=" Q "+n+" "+(this.middle_y-this.height/2+15*this.size)+", "+(this.start_x+this.width)+" "+this.start_y+'"',temp+=' style="fill:transparent;stroke:'+this.stroke_color+';stroke-width:2" />',this.text.length>0&&(temp+=writeText(this.text,this.text_size,"normal",this.middle_x,this.middle_y,this.height,"center",s)),temp+="<\/g>"}}function DirectAccess(n,t,i,r,u,f,e,o,s){Process.call(this,n,t,i,r,u,f,e,o,s);this.Name="Direct Access - Storage";this.width=75*i;this.height=75*i;this.start_x=n-this.width/2;this.start_y=t-this.height/2;this.probable_x_y[0][0]=this.middle_x;this.probable_x_y[0][1]=this.middle_y-this.height/2;this.probable_x_y[1][0]=this.middle_x;this.probable_x_y[1][1]=this.middle_y+this.height/2;this.probable_x_y[2][0]=this.middle_x-this.width/2;this.probable_x_y[2][1]=this.middle_y-5*this.size;this.probable_x_y[3][0]=this.middle_x+this.width/2;this.probable_x_y[3][1]=this.middle_y-5*this.size;this.Draw=function(){return temp='<g id="'+this.ID+'" onclick="doClick_Object(evt)" style="cursor:pointer">',temp+='<path d="M '+this.start_x+" "+this.start_y,temp+=" L "+(this.start_x+this.width)+" "+this.start_y,temp+=" Q "+(this.start_x+this.width+25*this.size)+" "+this.middle_y+", "+(this.start_x+this.width)+" "+(this.start_y+this.height),temp+=" L "+this.start_x+" "+(this.start_y+this.height)+' Z"',temp+=' style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',temp+='<path d="M '+(this.start_x+this.width)+" "+this.start_y,temp+=" Q "+(this.start_x+this.width-25*this.size)+" "+this.middle_y+", "+(this.start_x+this.width)+" "+(this.start_y+this.height)+'"',temp+=' style="fill:transparent;stroke:'+this.stroke_color+';stroke-width:2" />',this.text.length>0&&(temp+=writeText(this.text,this.text_size,"normal",this.middle_x,this.middle_y,this.height,"center",s)),temp+="<\/g>"}}function InternalStorage(n,t,i,r,u,f,e,o,s){Process.call(this,n,t,i,r,u,f,e,o,s);this.Name="Internal Storage";this.width=75*i;this.height=75*i;this.start_x=n-this.width/2;this.start_y=t-this.height/2;this.probable_x_y[0][0]=this.middle_x;this.probable_x_y[0][1]=this.middle_y-this.height/2;this.probable_x_y[1][0]=this.middle_x;this.probable_x_y[1][1]=this.middle_y+this.height/2;this.probable_x_y[2][0]=this.middle_x-this.width/2;this.probable_x_y[2][1]=this.middle_y-5*this.size;this.probable_x_y[3][0]=this.middle_x+this.width/2;this.probable_x_y[3][1]=this.middle_y-5*this.size;this.Draw=function(){return temp='<g id="'+this.ID+'" onclick="doClick_Object(evt)" style="cursor:pointer">',temp+='<rect x="'+this.start_x+'" y="'+this.start_y+'" width="'+this.width+'" height="'+this.height+'" style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',temp+='<line x1="'+this.start_x+'" y1="'+(this.start_y+this.height/5)+'" x2="'+(this.start_x+this.width)+'" y2="'+(this.start_y+this.height/5)+'" style="stroke:'+this.stroke_color+';stroke-width:2" />',temp+='<line x1="'+(this.start_x+this.width/5)+'" y1="'+this.start_y+'" x2="'+(this.start_x+this.width/5)+'" y2="'+(this.start_y+this.height)+'" style="stroke:'+this.stroke_color+';stroke-width:2" />',this.text.length>0&&(temp+=writeText(this.text,this.text_size,"normal",this.middle_x+this.width/10,this.middle_y,this.height,"center",s)),temp+="<\/g>"}}function MagneticTape(n,t,i,r,u,f,e,o,s){Process.call(this,n,t,i,r,u,f,e,o,s);this.Name="Sequential Access Storage - Magnetic Tape";this.width=70*i;this.height=70*i;this.start_x=n-this.width/2;this.start_y=t-this.height/2;this.probable_x_y[0][0]=this.middle_x;this.probable_x_y[0][1]=this.middle_y-this.height/2-2*this.size;this.probable_x_y[1][0]=this.middle_x;this.probable_x_y[1][1]=this.middle_y+this.height/2+2*this.size;this.probable_x_y[2][0]=this.middle_x-this.width/2+2*this.size;this.probable_x_y[2][1]=this.middle_y;this.probable_x_y[3][0]=this.middle_x+this.width/2-2*this.size;this.probable_x_y[3][1]=this.middle_y;this.Draw=function(){return temp='<defs><clipPath id="magTape_'+this.ID.substring(7)+'">',temp+='<rect class="closed" x="'+this.start_x+'" y="'+this.start_y+'" width="'+this.width+'" height="'+this.height/70*54+'" />',temp+='<rect class="closed" x="'+this.start_x+'" y="'+(this.start_y+this.height/70*50)+'" width="'+this.width/70*40+'" height="'+this.height/70*52+'" />',temp+="<\/clipPath><\/defs>",temp+='<g id="'+this.ID+'" onclick="doClick_Object(evt)" style="cursor:pointer">',temp+='<rect x="'+(this.start_x+this.width/2)+'" y="'+(this.start_y+this.height/70*50)+'" width="'+this.width/70*40+'" height="'+this.height/70*18+'" style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',temp+='<circle cx="'+n+'" cy="'+t+'" r="'+this.height/70*33+'" clip-path="url(#magTape_'+this.ID.substring(7)+')" style="fill:'+this.fill_color+";stroke:"+this.stroke_color+';stroke-width:2" />',this.text.length>0&&(temp+=writeText(this.text,this.text_size,"normal",this.middle_x+this.width/10,this.middle_y,this.height,"center",s)),temp+="<\/g>"}}function doClick_Object(n){for(var s,e,o,r,l=document.getElementById(id_theSVG),f=l.getElementsByTagName("polyline"),t=0;t<f.length;t++)if(f[t].parentNode.getAttribute("id").indexOf("Line_")!=-1){var h=f[t].parentElement.getAttribute("id"),c=parseInt(h.substring(5)),a=line_array[c-1];f[t].setAttribute("style","fill:none;stroke:"+a.stroke_color+";stroke-width:2");f[t].setAttribute("marker-end","url(#arrow)")}for(s=["rect","polygon","path","circle","line"],e=0;e<s.length;e++)for(o=l.getElementsByTagName(s[e]),t=0;t<o.length;t++)if(o[t].parentNode.getAttribute("id").indexOf("Object_")!=-1){var h=o[t].parentElement.getAttribute("id"),c=parseInt(h.substring(7)),i=object_array[c-1];s[e]!="Line"?o[t].setAttribute("style","fill:"+i.fill_color+";stroke:"+i.stroke_color+";stroke-width:2"):f[t].setAttribute("style","stroke:"+i.stroke_color+";stroke-width:2")}if(r=n.target.parentElement.childNodes,typeof r!="undefined"){if(r[0].nodeName=="tspan"&&(r=n.target.parentElement.parentElement.childNodes),r[0].nodeName=="rect"||r[0].nodeName=="polygon"||r[0].nodeName=="path"||r[0].nodeName=="circle"){r[0].setAttribute("style","fill:white;stroke:"+highlight_color+";stroke-width:4");var h=r[0].parentElement.getAttribute("id"),c=parseInt(h.substring(7)),i=object_array[c-1],u=i.ID+" - "+i.Name+", Middle x - y: "+i.middle_x+" - "+i.middle_y+", Size:"+i.size+", Width - Height: "+i.width+" - "+i.height+", Text Size:"+i.text_size+"\n";for(t=0;t<i.probable_x_y.length;t++)t==0?u+="  top x - y: ":t==1?u+="bottom x - y: ":t==2?u+="left x - y: ":t==3&&(u+="right x - y: "),u+=i.probable_x_y[t][0]+" - "+i.probable_x_y[t][1],t!=i.probable_x_y.length-1&&(u+=", ");for(writeConsoleText(u,"information"),document.getElementById(id_theDesc).innerHTML="",t=0;t<i.text.length;t++)document.getElementById(id_theDesc).innerHTML+="<h2>"+i.text[t]+"<\/h2><br />";document.getElementById(id_theDesc).innerHTML+="<br />"+i.description}for(t=1;t<r.length;t++)r[t].nodeName=="line"?r[t].setAttribute("style","stroke:"+highlight_color+";stroke-width:4"):(r[t].nodeName=="rect"||r[t].nodeName=="polygon"||r[t].nodeName=="path"||r[t].nodeName=="circle")&&r[t].setAttribute("style","fill:white;stroke:"+highlight_color+";stroke-width:4")}}function writeConsoleText(n,t){var i="White",r;typeof t=="undefined"||t==null?i="White":t=="information"?i="LightGreen":t=="warning"&&(i="LightSalmon");r="color:Black;font-weight:bold; background-color: "+i+";";console.log("%c"+n,r)}function writeText(n,t,i,r,u,f,e,o){var s;e=typeof e=="undefined"||e=="center"||e==null?'alignment-baseline="middle" text-anchor="middle"':"";this.text_color="black";this.text_color=typeof o=="undefined"||o==null?text_color:o;var h=n.length,c=f/h,l=u-f/2+c/2+6,a='<text x="'+r+'" y="'+u+'" '+e+' font-family="Verdana" font-size="'+t+'" font-weight="'+i+'" fill="'+this.text_color+'">';for(s=0;s<h;s++)a+='<tspan x="'+r+'" y="'+l+'">'+n[s]+"<\/tspan>",l+=c;return a+"<\/text>"}function Line(n,t,i,r,u,f,e,o,s){var l,a,v,h,c;this.Name="Line";this.ID="";this.text=[];this.text=typeof u=="undefined"||u==null?[]:typeof u=="string"?[u]:u;this.description="";this.description=typeof e=="undefined"||e==null?"":e;this.stroke_color="black";this.stroke_color=typeof o=="undefined"||o==null?stroke_color:o;this.text_color="black";this.text_color=typeof s=="undefined"||s==null?text_color:s;typeof n=="undefined"||n==null||typeof t=="undefined"||t==null||(this.o1_probable_x_y=n.probable_x_y,this.o2_probable_x_y=t.probable_x_y,(typeof i=="undefined"||i==null||typeof r=="undefined"||r==null)&&(i=-1,r=-1),(i==-1||r==-1)&&(l=Connect_Two_Objects(n,t),l!=null&&(i=l[0],r=l[1],a=parseInt(n.ID.substring(7)),object_array[a-1].points[i]=!0,v=parseInt(t.ID.substring(7)),object_array[v-1].points[r]=!0)),i>n.probable_x_y.length-1&&(writeConsoleText("There is "+n.probable_x_y.length+" points in the "+n.Name,"warning"),i=n.probable_x_y.length-1),r>t.probable_x_y.length-1&&(writeConsoleText("There is "+t.probable_x_y.length+" points in the "+t.Name,"warning"),r=t.probable_x_y.length-1),this.o1_size=n.size,this.o2_size=t.size,this.big_size=this.o1_size,this.o2_size>this.o1_size&&(this.big_size=this.o2_size),this.text_size=f,h=[0,0],c=[0,0],n!=null&&t!=null&&(h=[this.o1_probable_x_y[i][0],this.o1_probable_x_y[i][1]],c=[this.o2_probable_x_y[r][0],this.o2_probable_x_y[r][1]]));this.LinesData="";this.Draw=function(){var p,a,w;if(n==null||t==null)return"";var f=10*this.o1_size,b=10*this.o2_size,u=40*this.big_size,o=80*this.o1_size,l=80*this.o2_size,e=35*this.o1_size,v=35*this.o2_size,s="";return i==1&&r==0?h[1]-c[1]<=-u?s+=h[0]+","+h[1]+" "+h[0]+","+(h[1]+f)+" "+c[0]+","+(h[1]+f)+" "+c[0]+","+c[1]:(h[0]-c[0]>150*this.big_size?(x=h[0]-o,y=c[1]-u):h[0]-c[0]>=0?(x=h[0]+o,y=c[1]-u,h[1]-c[1]<20&&(y=h[1]-(2*e-f))):h[0]-c[0]>=-150*this.big_size?(x=h[0]-o,y=c[1]-u,h[1]-c[1]<20&&(y=h[1]-(2*e-f))):(x=h[0]+o,y=c[1]-u),s+=h[0]+","+h[1]+" "+h[0]+","+(h[1]+f)+" "+x+","+(h[1]+f)+" "+x+","+y+" "+c[0]+","+y+" "+c[0]+","+c[1]):i==0&&r==1?h[1]-c[1]>=u?s+=h[0]+","+h[1]+" "+h[0]+","+(h[1]-f)+" "+c[0]+","+(h[1]-f)+" "+c[0]+","+c[1]:(h[0]-c[0]>150*this.big_size?(x=h[0]-o,y=c[1]+u):h[0]-c[0]>=0?(x=h[0]+o,y=c[1]+u,h[1]-c[1]>-20&&(y=h[1]+2*e-f)):h[0]-c[0]>=-150*this.big_size?(x=h[0]-o,y=c[1]+u,h[1]-c[1]>-20&&(y=h[1]+2*e-f)):(x=h[0]+o,y=c[1]+u),s+=h[0]+","+h[1]+" "+h[0]+","+(h[1]-f)+" "+x+","+(h[1]-f)+" "+x+","+y+" "+c[0]+","+y+" "+c[0]+","+c[1]):i==0&&r==0?h[1]-c[1]>=-30?h[0]-c[0]<70&&h[0]-c[0]>-70?(dif=h[0]-c[0]+o,h[0]-c[0]>0&&(dif=h[0]-c[0]-o),s+=h[0]+","+h[1]+" "+h[0]+","+(h[1]-f)+" "+(h[0]-dif)+","+(h[1]-f)+" "+(h[0]-dif)+","+(c[1]-u)+" "+c[0]+","+(c[1]-u)+" "+c[0]+","+c[1]):s+=h[0]+","+h[1]+" "+h[0]+","+(h[1]-f)+" "+h[0]+","+(c[1]-u)+" "+c[0]+","+(c[1]-u)+" "+c[0]+","+c[1]:h[0]-c[0]<70&&h[0]-c[0]>-70?(dif=o,h[0]-c[0]>0&&(dif=-o),s+=h[0]+","+h[1]+" "+h[0]+","+(h[1]-f)+" "+(h[0]-dif)+","+(h[1]-f)+" "+(h[0]-dif)+","+(c[1]-u)+" "+c[0]+","+(c[1]-u)+" "+c[0]+","+c[1]):s+=h[0]+","+h[1]+" "+h[0]+","+(h[1]-f)+" "+c[0]+","+(h[1]-f)+" "+c[0]+","+c[1]:i==1&&r==1?h[1]-c[1]>=0?h[0]-c[0]<70&&h[0]-c[0]>-70?(dif=o,h[0]-c[0]>0&&(dif=-o),s+=h[0]+","+h[1]+" "+h[0]+","+(h[1]+f)+" "+(h[0]+dif)+","+(h[1]+f)+" "+(h[0]+dif)+","+(c[1]+u)+" "+c[0]+","+(c[1]+u)+" "+c[0]+","+c[1]):(y=h[1]-c[1]>=0&&h[1]-c[1]<=20?u:f,s+=h[0]+","+h[1]+" "+h[0]+","+(h[1]+y)+" "+c[0]+","+(h[1]+y)+" "+c[0]+","+c[1]):h[0]-c[0]<70&&h[0]-c[0]>-70?(dif=o,h[0]-c[0]>0&&(dif=-o),s+=h[0]+","+h[1]+" "+h[0]+","+(h[1]+f)+" "+(c[0]-dif)+","+(h[1]+f)+" "+(c[0]-dif)+","+(c[1]+u)+" "+c[0]+","+(c[1]+u)+" "+c[0]+","+c[1]):s+=h[0]+","+h[1]+" "+h[0]+","+(c[1]+u)+" "+c[0]+","+(c[1]+u)+" "+c[0]+","+c[1]:i==1&&r==2?h[1]-c[1]>=0?h[0]-c[0]<40&&h[0]-c[0]>-105?s+=h[0]+","+h[1]+" "+h[0]+","+(h[1]+f)+"  "+(h[0]-o)+","+(h[1]+f)+" "+(h[0]-o)+","+c[1]+" "+c[0]+","+c[1]:h[0]-c[0]<-105?s+=h[0]+","+h[1]+" "+h[0]+","+(h[1]+f)+"  "+(c[0]-u)+","+(h[1]+f)+" "+(c[0]-u)+","+c[1]+" "+c[0]+","+c[1]:h[0]-c[0]>40&&(s+=h[0]+","+h[1]+" "+h[0]+","+(h[1]+f)+" "+(c[0]-u)+","+(h[1]+f)+" "+(c[0]-u)+","+c[1]+" "+c[0]+","+c[1]):h[0]-c[0]>-40?s+=h[0]+","+h[1]+" "+h[0]+","+(h[1]+f)+" "+(c[0]-u)+","+(h[1]+f)+" "+(c[0]-u)+","+c[1]+" "+c[0]+","+c[1]:h[0]-c[0]<-40&&(s+=h[0]+","+h[1]+" "+h[0]+","+c[1]+"  "+c[0]+","+c[1]):i==2&&r==1?s+=h[1]-c[1]<=0?h[0]-c[0]>=-62.5&&h[0]-c[0]<105?h[0]+","+h[1]+" "+(c[0]-o)+","+h[1]+" "+(c[0]-o)+","+(c[1]+u)+" "+c[0]+","+(c[1]+u)+" "+c[0]+","+c[1]:h[0]-c[0]<-62.5?h[0]+","+h[1]+" "+(h[0]-f)+","+h[1]+" "+(h[0]-f)+","+(c[1]+u)+" "+c[0]+","+(c[1]+u)+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+(h[0]-f)+","+h[1]+" "+(h[0]-f)+","+(c[1]+u)+" "+c[0]+","+(c[1]+u)+" "+c[0]+","+c[1]:h[0]-c[0]>=f?h[0]+","+h[1]+" "+c[0]+","+h[1]+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+(h[0]-f)+","+h[1]+" "+(h[0]-f)+","+(c[1]+u)+" "+c[0]+","+(c[1]+u)+" "+c[0]+","+c[1]:i==2&&r==2?s+=h[1]-c[1]<-e?h[0]-c[0]>=-40?h[0]+","+h[1]+" "+(c[0]-u)+","+h[1]+" "+(c[0]-u)+","+c[1]+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+(h[0]-f)+","+h[1]+" "+(h[0]-f)+","+c[1]+" "+c[0]+","+c[1]:h[1]-c[1]>=e?h[0]-c[0]<=-u?h[0]+","+h[1]+" "+(h[0]-f)+","+h[1]+" "+(h[0]-f)+","+c[1]+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+(c[0]-u)+","+h[1]+" "+(c[0]-u)+","+c[1]+" "+c[0]+","+c[1]:h[0]-c[0]<0?h[0]+","+h[1]+" "+(h[0]-f)+","+h[1]+" "+(h[0]-f)+","+(h[1]+e)+" "+(c[0]-u)+","+(h[1]+e)+" "+(c[0]-u)+","+c[1]+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+(h[0]-f)+","+h[1]+" "+(h[0]-f)+","+(c[1]+e)+" "+(c[0]-u)+","+(c[1]+e)+" "+(c[0]-u)+","+c[1]+" "+c[0]+","+c[1]:i==0&&r==2?s+=h[1]-c[1]>=0?h[0]-c[0]<-40?h[0]+","+h[1]+" "+h[0]+","+c[1]+" "+c[0]+","+c[1]:h[0]-c[0]<200?h[0]+","+h[1]+" "+h[0]+","+(h[1]-f)+" "+(c[0]-u)+","+(h[1]-f)+" "+(c[0]-u)+","+c[1]+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+h[0]+","+(h[1]-f)+" "+(c[0]-u)+","+(h[1]-f)+" "+(c[0]-u)+","+c[1]+" "+c[0]+","+c[1]:h[0]-c[0]<-105?h[0]+","+h[1]+" "+h[0]+","+(h[1]-f)+" "+(h[0]+o)+","+(h[1]-f)+" "+(h[0]+o)+","+c[1]+" "+c[0]+","+c[1]:h[0]-c[0]<62.5?h[0]+","+h[1]+" "+h[0]+","+(h[1]-f)+" "+(h[0]-o)+","+(h[1]-f)+" "+(h[0]-o)+","+c[1]+" "+c[0]+","+c[1]:h[1]-c[1]<0&&h[1]-c[1]>-25?h[0]+","+h[1]+" "+h[0]+","+(c[1]-e)+" "+(c[0]-u)+","+(c[1]-e)+" "+(c[0]-u)+","+c[1]+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+h[0]+","+(h[1]-f)+" "+(c[0]-u)+","+(h[1]-f)+" "+(c[0]-u)+","+c[1]+" "+c[0]+","+c[1]:i==2&&r==0?s+=h[1]-c[1]<-75?h[0]+","+h[1]+" "+(h[0]-f)+","+h[1]+" "+(h[0]-f)+","+(c[1]-u)+" "+c[0]+","+(c[1]-u)+" "+c[0]+","+c[1]:h[0]-c[0]<0?h[1]-c[1]<0?h[0]+","+h[1]+" "+(h[0]-f)+","+h[1]+" "+(h[0]-f)+","+(h[1]-e)+" "+c[0]+","+(h[1]-e)+" "+c[0]+","+c[1]:h[0]-c[0]<-62.5?h[0]+","+h[1]+" "+(h[0]-f)+","+h[1]+" "+(h[0]-f)+","+(c[1]-u)+" "+c[0]+","+(c[1]-u)+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+(c[0]-o)+","+h[1]+" "+(c[0]-o)+","+(c[1]-u)+" "+c[0]+","+(c[1]-u)+" "+c[0]+","+c[1]:h[1]-c[1]<-35?h[0]+","+h[1]+" "+c[0]+","+h[1]+" "+c[0]+","+c[1]:h[0]-c[0]<80?h[0]+","+h[1]+" "+(c[0]-o)+","+h[1]+" "+(c[0]-o)+","+(c[1]-u)+" "+c[0]+","+(c[1]-u)+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+(h[0]-f)+","+h[1]+" "+(h[0]-f)+","+(c[1]-u)+" "+c[0]+","+(c[1]-u)+" "+c[0]+","+c[1]:i==0&&r==3?s+=h[1]-c[1]>=0?h[0]-c[0]>40?h[0]+","+h[1]+" "+h[0]+","+c[1]+" "+c[0]+","+c[1]:h[0]-c[0]>-200?h[0]+","+h[1]+" "+h[0]+","+(h[1]-f)+" "+(c[0]+u)+","+(h[1]-f)+" "+(c[0]+u)+","+c[1]+" "+c[0]+","+c[1]:h[1]-c[1]>40?h[0]+","+h[1]+" "+h[0]+","+(h[1]-f)+" "+(c[0]+u)+","+(h[1]-f)+" "+(c[0]+u)+","+c[1]+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+h[0]+","+(c[1]-v)+" "+(c[0]+u)+","+(c[1]-v)+" "+(c[0]+u)+","+c[1]+" "+c[0]+","+c[1]:h[0]-c[0]>105?h[0]+","+h[1]+" "+h[0]+","+(h[1]-f)+" "+(h[0]-o)+","+(h[1]-f)+" "+(h[0]-o)+","+c[1]+" "+c[0]+","+c[1]:h[0]-c[0]>-62.5?h[0]+","+h[1]+" "+h[0]+","+(h[1]-f)+" "+(h[0]+o)+","+(h[1]-f)+" "+(h[0]+o)+","+c[1]+" "+c[0]+","+c[1]:h[1]-c[1]<40&&h[1]-c[1]>-25?h[0]+","+h[1]+" "+h[0]+","+(c[1]-e)+" "+(c[0]+u)+","+(c[1]-e)+" "+(c[0]+u)+","+c[1]+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+h[0]+","+(h[1]-f)+" "+(c[0]+u)+","+(h[1]-f)+" "+(c[0]+u)+","+c[1]+" "+c[0]+","+c[1]:i==3&&r==0?s+=h[1]-c[1]<-75?h[0]-c[0]>-20?h[0]+","+h[1]+" "+(h[0]+f)+","+h[1]+" "+(h[0]+f)+","+(c[1]-u)+" "+c[0]+","+(c[1]-u)+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+c[0]+","+h[1]+" "+c[0]+","+c[1]:h[0]-c[0]<0?h[1]-c[1]>-40?h[0]-c[0]>0?h[0]+","+h[1]+" "+(h[0]+f)+","+h[1]+" "+(h[0]+f)+","+(c[1]-u)+" "+c[0]+","+(c[1]-u)+" "+c[0]+","+c[1]:h[0]-c[0]>-82.5?h[0]+","+h[1]+" "+(c[0]+l)+","+h[1]+" "+(c[0]+l)+","+(c[1]-u)+" "+c[0]+","+(c[1]-u)+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+(h[0]+f)+","+h[1]+" "+(h[0]+f)+","+(c[1]-u)+" "+c[0]+","+(c[1]-u)+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+c[0]+","+h[1]+" "+c[0]+","+c[1]:h[1]-c[1]>-75?h[1]-c[1]<-15?h[0]+","+h[1]+" "+(h[0]+f)+","+h[1]+" "+(h[0]+f)+","+(h[1]-e)+" "+c[0]+","+(h[1]-e)+" "+c[0]+","+c[1]:h[0]-c[0]<=62.5?h[0]+","+h[1]+" "+(c[0]+l)+","+h[1]+" "+(c[0]+l)+","+(c[1]-u)+" "+c[0]+","+(c[1]-u)+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+(h[0]+f)+","+h[1]+" "+(h[0]+f)+","+(c[1]-u)+" "+c[0]+","+(c[1]-u)+" "+c[0]+","+c[1]:h[0]-c[0]<80?h[0]+","+h[1]+" "+(c[0]-o)+","+h[1]+" "+(c[0]-o)+","+(c[1]-u)+" "+c[0]+","+(c[1]-u)+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+(h[0]+f)+","+h[1]+" "+(h[0]+f)+","+(c[1]-u)+" "+c[0]+","+(c[1]-u)+" "+c[0]+","+c[1]:i==1&&r==3?s+=h[1]-c[1]>25?h[0]-c[0]<=110&&h[0]-c[0]>=-32.5?h[0]+","+h[1]+" "+h[0]+","+(h[1]+f)+" "+(h[0]+o)+","+(h[1]+f)+" "+(h[0]+o)+","+c[1]+" "+c[0]+","+c[1]+" ":h[0]+","+h[1]+" "+h[0]+","+(h[1]+f)+" "+(c[0]+u)+","+(h[1]+f)+" "+(c[0]+u)+","+c[1]+" "+c[0]+","+c[1]+" ":h[1]-c[1]>-45?h[0]+","+h[1]+" "+h[0]+","+(c[1]+e)+" "+(c[0]+u)+","+(c[1]+v)+" "+(c[0]+u)+","+c[1]+" "+c[0]+","+c[1]+" ":h[0]-c[0]<=40?h[0]+","+h[1]+" "+h[0]+","+(h[1]+f)+" "+(c[0]+u)+","+(h[1]+f)+" "+(c[0]+u)+","+c[1]+" "+c[0]+","+c[1]+" ":h[0]+","+h[1]+" "+h[0]+","+c[1]+" "+c[0]+","+c[1]+" ":i==3&&r==1?h[0]-c[0]<=-80?s+=h[1]-c[1]<40?h[0]+","+h[1]+" "+(h[0]+f)+","+h[1]+" "+(h[0]+f)+","+(c[1]+u)+" "+c[0]+","+(c[1]+u)+" "+c[0]+","+c[1]+" ":h[0]+","+h[1]+" "+c[0]+","+h[1]+" "+c[0]+","+c[1]+" ":h[0]-c[0]<72.5?(document.getElementById("test").innerHTML+="POINT x",s+=h[1]-c[1]<60?h[0]+","+h[1]+" "+(c[0]+l)+","+h[1]+" "+(c[0]+l)+","+(c[1]+u)+" "+c[0]+","+(c[1]+u)+" "+c[0]+","+c[1]+" ":h[0]-c[0]>-10?h[0]+","+h[1]+" "+(h[0]+f)+","+h[1]+" "+(h[0]+f)+","+(c[1]+u)+" "+c[0]+","+(c[1]+u)+" "+c[0]+","+c[1]+" ":h[0]+","+h[1]+" "+c[0]+","+h[1]+" "+c[0]+","+c[1]):s+=h[1]-c[1]<5?h[0]+","+h[1]+" "+(h[0]+f)+","+h[1]+" "+(h[0]+f)+","+(c[1]+u)+" "+c[0]+","+(c[1]+u)+" "+c[0]+","+c[1]:h[1]-c[1]<60?h[0]+","+h[1]+" "+(h[0]+f)+","+h[1]+" "+(h[0]+f)+","+(h[1]+e)+" "+c[0]+","+(h[1]+e)+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+(h[0]+f)+","+h[1]+" "+(h[0]+f)+","+(h[1]-e)+" "+c[0]+","+(h[1]-e)+" "+c[0]+","+c[1]:i==2&&r==3?s+=h[0]-c[0]<-95?h[1]-c[1]>0&&h[1]-c[1]<=70?h[0]+","+h[1]+" "+(h[0]-10)+","+h[1]+" "+(h[0]-10)+","+(c[1]-e)+" "+(c[0]+u)+","+(c[1]-e)+" "+(c[0]+u)+","+c[1]+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+(h[0]-10)+","+h[1]+" "+(h[0]-10)+","+(h[1]-e)+" "+(c[0]+u)+","+(h[1]-e)+" "+(c[0]+u)+","+c[1]+" "+c[0]+","+c[1]:h[0]-c[0]<40?h[0]+","+h[1]+" "+(h[0]-10)+","+h[1]+" "+(h[0]-10)+","+(h[1]-e)+" "+(h[0]+2*o-2*f)+","+(h[1]-e)+" "+(h[0]+2*o-2*f)+","+c[1]+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+(h[0]-10)+","+h[1]+" "+(h[0]-10)+","+c[1]+" "+c[0]+","+c[1]:i==3&&r==2?s+=h[0]-c[0]>-50?h[1]-c[1]<-70?h[0]+","+h[1]+" "+(h[0]+10)+","+h[1]+" "+(h[0]+10)+","+(h[1]+e)+" "+(c[0]-u)+","+(h[1]+e)+" "+(c[0]-u)+","+c[1]+" "+c[0]+","+c[1]:h[1]-c[1]>0&&h[1]-c[1]<70?h[0]+","+h[1]+" "+(h[0]+10)+","+h[1]+" "+(h[0]+10)+","+(c[1]-e)+" "+(c[0]-u)+","+(c[1]-e)+" "+(c[0]-u)+","+c[1]+" "+c[0]+","+c[1]:h[0]-c[0]>95?h[0]+","+h[1]+" "+(h[0]+10)+","+h[1]+" "+(h[0]+10)+","+(h[1]-e)+" "+(c[0]-u)+","+(h[1]-e)+" "+(c[0]-u)+","+c[1]+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+(h[0]+10)+","+h[1]+" "+(h[0]+10)+","+(h[1]-e)+" "+(h[0]-(2*o-2*f))+","+(h[1]-e)+" "+(h[0]-(2*o-2*f))+","+c[1]+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+(h[0]+10)+","+h[1]+" "+(h[0]+10)+","+c[1]+" "+c[0]+","+c[1]:i==3&&r==3?s+=h[1]-c[1]<-50?h[0]-c[0]<=30?h[0]+","+h[1]+" "+(c[0]+u)+","+h[1]+" "+(c[0]+u)+","+c[1]+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+(h[0]+f)+","+h[1]+" "+(h[0]+f)+","+c[1]+" "+c[0]+","+c[1]:h[0]-c[0]<=170?h[1]-c[1]>-40&&h[1]-c[1]<40?h[0]-c[0]<=-150?h[1]-c[1]>0?h[0]+","+h[1]+" "+(h[0]+10)+","+h[1]+" "+(h[0]+10)+","+(c[1]-e)+" "+(c[0]+u)+","+(c[1]-e)+" "+(c[0]+u)+","+c[1]+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+(h[0]+10)+","+h[1]+" "+(h[0]+10)+","+(h[1]-e)+" "+(c[0]+u)+","+(h[1]-e)+" "+(c[0]+u)+","+c[1]+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+(h[0]+10)+","+h[1]+" "+(h[0]+10)+","+(h[1]-e)+" "+(c[0]+u)+","+(h[1]-e)+" "+(c[0]+u)+","+c[1]+" "+c[0]+","+c[1]:h[0]-c[0]<40?h[0]+","+h[1]+" "+(c[0]+u)+","+h[1]+" "+(c[0]+u)+","+c[1]+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+(h[0]+f)+","+h[1]+" "+(h[0]+f)+","+c[1]+" "+c[0]+","+c[1]:h[1]-c[1]>-40&&h[1]-c[1]<40?h[0]+","+h[1]+" "+(h[0]+10)+","+h[1]+" "+(h[0]+10)+","+(h[1]-e)+" "+(c[0]+u)+","+(h[1]-e)+" "+(c[0]+u)+","+c[1]+" "+c[0]+","+c[1]:h[0]+","+h[1]+" "+(h[0]+f)+","+h[1]+" "+(h[0]+f)+","+c[1]+" "+c[0]+","+c[1]:(document.getElementById("test").innerHTML+="Error",s+=h[0]+","+h[1]+" "+c[0]+","+c[1]),s=findObjectArrayLineCollication(s),p=findLineArrayCollication(s),this.LinesData=s,s=p!=""?polyline_start+' "'+s+'" '+polyline_end.replace("black",this.stroke_color)+p:polyline_start+' "'+s+'" '+polyline_end.replace("black",this.stroke_color),this.text.length>0&&(a=this.findLongestLinePoint(),s+=writeText(this.text,this.text_size,"normal",a[0]+3,a[1]-10,30,a[2],this.text_color)),w='<g id="'+this.ID+'" onclick="doClick_Line(evt)" style="cursor:pointer">',w+=s,w+"<\/g>"};this.findLongestLinePoint=function(){for(var r=this.LinesData.split(" "),o=0,s=0,h=0,u="center",n=0;n<r.length-1;n++){var c=r[n].split(","),l=r[n+1].split(","),f=Math.round(c[0]*100)/100,t=Math.round(c[1]*100)/100,e=Math.round(l[0]*100)/100,i=Math.round(l[1]*100)/100,a=Math.sqrt((f-e)*(f-e)+(t-i)*(t-i));a>o&&(s=(f+e)/2,h=(t+i)/2,u=t==i?"center":"",o=a)}return[s,h,u,u]}}function doClick_Line(n){for(var e,u,f,i,c=document.getElementById("demo"),r=c.getElementsByTagName("polyline"),t=0;t<r.length;t++)if(r[t].parentNode.getAttribute("id").indexOf("Line_")!=-1){var o=r[t].parentElement.getAttribute("id"),s=parseInt(o.substring(5)),i=line_array[s-1];r[t].setAttribute("style","fill:none;stroke:"+i.stroke_color+";stroke-width:2");r[t].setAttribute("marker-end","url(#arrow)")}for(e=["rect","polygon","path","circle","line"],u=0;u<e.length;u++)for(f=c.getElementsByTagName(e[u]),t=0;t<f.length;t++)if(f[t].parentNode.getAttribute("id").indexOf("Object_")!=-1){var o=f[t].parentElement.getAttribute("id"),s=parseInt(o.substring(7)),h=object_array[s-1];e[u]!="Line"?f[t].setAttribute("style","fill:"+h.fill_color+";stroke:"+h.stroke_color+";stroke-width:2"):r[t].setAttribute("style","stroke:"+h.stroke_color+";stroke-width:2")}if(i=n.target.parentElement.children,i[0].nodeName=="tspan"&&(i=n.target.parentElement.parentElement.children),i[0].nodeName=="polyline"){i[0].setAttribute("style","fill:none;stroke:"+highlight_color+";stroke-width:3");i[0].setAttribute("marker-end","url(#arrow2)");var o=i[0].parentElement.getAttribute("id"),s=parseInt(o.substring(5)),i=line_array[s-1],l=i.ID+" - "+i.Name+"\n";l+=i.LinesData;writeConsoleText(l,"information");document.getElementById(id_theDesc).innerHTML=i.description}}function Connect_Two_Objects(n,t){var i,r;for(this.o1_probable_x_y=n.probable_x_y,this.o2_probable_x_y=t.probable_x_y,this.o1_points=n.points,this.o2_points=t.points,dif=1e7,position1=-1,position2=-1,i=0;i<this.o1_probable_x_y.length;i++)for(r=0;r<this.o2_probable_x_y.length;r++)this.o1_points[i]==!1&&this.o2_points[r]==!1&&(x_dif=this.o1_probable_x_y[i][0]-this.o2_probable_x_y[r][0],y_dif=this.o1_probable_x_y[i][1]-this.o2_probable_x_y[r][1],yeni_dif=Math.sqrt(x_dif*x_dif+y_dif*y_dif),yeni_dif<dif&&(dif=yeni_dif,position1=i,position2=r));return position1!=-1&&position2!=-1?[position1,position2]:null}function free_draw(n,t,r){var e=t[0],o=t[1],f=n.split(" "),s=new Line,u,h,c;for((typeof r=="undefined"||r==null)&&(r="black"),u=e+","+o+" ",i=0;i<f.length;i++)_error=!1,f[i].substring(0,1)=="d"?o+=parseInt(f[i].substring(1)):f[i].substring(0,1)=="u"?o-=parseInt(f[i].substring(1)):f[i].substring(0,1)=="r"?e+=parseInt(f[i].substring(1)):f[i].substring(0,1)=="l"?e-=parseInt(f[i].substring(1)):_error=!0,_error||(u+=e+","+o+" ");u=u.trim();u=findObjectArrayLineCollication(u);h=findLineArrayCollication(u);c="";c=h!=""?polyline_start+' "'+u+'" '+polyline_end.replace("black",r)+h:polyline_start+' "'+u+'" '+polyline_end.replace("black",r);s.ID="Line_"+line_array.length;s.LinesData=u;line_array.push(s);document.getElementById(id_theSVG).innerHTML+=c}function prepare_SVG2(){}function findLineCollication(n,t,i,r,u,f,e,o){var c,l,a,v,y,p;n=Math.round(n*100)/100;i=Math.round(i*100)/100;u=Math.round(u*100)/100;e=Math.round(e*100)/100;t=Math.round(t*100)/100;r=Math.round(r*100)/100;f=Math.round(f*100)/100;o=Math.round(o*100)/100;var w=r-t,b=n-i,it=w*n+b*t,k=o-f,d=u-e,rt=k*u+d*f,g=w*d-k*b;if(g!=0){var s=Math.round((d*it-b*rt)/g*100)/100,h=Math.round((w*rt-k*it)/g*100)/100,nt=Math.min(n,i),tt=Math.max(n,i);if(tt-nt>=6&&(nt+=3,tt-=3),c=Math.min(u,e),l=Math.max(u,e),l-c>=6&&(c+=3,l-=3),a=Math.min(t,r),v=Math.max(t,r),v-a>=6&&(a+=3,v-=3),y=Math.min(f,o),p=Math.max(f,o),p-y>=6&&(y+=3,p-=3),s>=nt&&s<=tt&&s>=c&&s<=l&&h>=a&&h<=v&&h>=y&&h<=p)return[s,h]}return null}function findObjectCollication(n,t){for(var i,u=[[n.start_x-40,n.start_y-40,n.start_x+n.width+40,n.start_y-40],[n.start_x-40,n.start_y-40,n.start_x-40,n.start_y+n.height+40],[n.start_x+n.width+40,n.start_y-40,n.start_x+n.width+40,n.start_y+n.height+40],[n.start_x-40,n.start_y+n.height+40,n.start_x+n.width+40,n.start_y+n.height+40]],f=[[t.start_x,t.start_y,t.start_x+t.width,t.start_y],[t.start_x,t.start_y,t.start_x,t.start_y+t.height],[t.start_x+t.width,t.start_y,t.start_x+t.width,t.start_y+t.height],[t.start_x,t.start_y+t.height,t.start_x+t.width,t.start_y+t.height]],e=!1,r=0;r<u.length;r++)for(i=0;i<f.length;i++)if(e=findLineCollication(u[r][0],u[r][1],u[r][2],u[r][3],f[i][0],f[i][1],f[i][2],f[i][3]),e!=null)return!0;return e}function findObjectArrayLineCollication(n){for(var w,b,l,a,d,h,f,c=0;c<object_array.length;c++){var s=n.split(" "),t=object_array[c],v=[[t.start_x,t.start_y,t.start_x+t.width,t.start_y],[t.start_x,t.start_y+t.height,t.start_x+t.width,t.start_y+t.height],[t.start_x,t.start_y,t.start_x,t.start_y+t.height],[t.start_x+t.width,t.start_y,t.start_x+t.width,t.start_y+t.height]],o="",r=-1,i=-1,u=-1,e=-1,g=-1,k=-1,y=0,p=0;for(f=0;f<s.length-1;f++)for(w=s[f].split(","),b=s[f+1].split(","),l=0;l<v.length;l++)if(a=findLineCollication(v[l][0],v[l][1],v[l][2],v[l][3],w[0],w[1],b[0],b[1]),a!=null)if(c==0?o+="t":c==1?o+="b":c==2?o+="l":c==3&&(o+="r"),r==-1)r=parseFloat(a[0]),i=parseFloat(a[1]),g=f+1,y=r-t.start_x<t.start_x+t.width-r?r-(t.start_x-15):-(t.start_x+t.width-r+15),p=i-t.start_y<t.start_y+t.height-i?i-(t.start_y-15):-(t.start_y+t.height-i+15);else if(u==-1){u=parseFloat(a[0]);e=parseFloat(a[1]);o=="lr"&&w[0]>b[0]?(o="rl",d=r,r=u,u=d):o=="tb"&&w[1]<b[1]&&(o="bt",d=i,i=e,e=d);k=f+1;break}if(h="",g!=-1&&k!=-1){for(f=0;f<s.length;f++)f<g||f>k?h+=s[f]+" ":f==k&&(o=o.substring(0,2),o=="rb"?h+=r+15+","+i+" "+(r+15)+","+(e+15)+" "+u+","+(e+15)+" "+s[f]+" ":o=="br"?h+=r+","+(i+15)+" "+(u+15)+","+(i+15)+" "+(u+15)+","+e+" "+s[f]+" ":o=="rt"?h+=r+15+","+i+" "+(r+15)+","+(e-15)+" "+u+","+(e-15)+" "+s[f]+" ":o=="tr"?h+=r+","+(i-15)+" "+(u+15)+","+(i-15)+" "+(u+15)+","+e+" "+s[f]+" ":o=="lb"?h+=r-15+","+i+" "+(r-15)+","+(e+15)+" "+u+","+(e+15)+" "+s[f]+" ":o=="bl"?h+=r+","+(i+15)+" "+(u-15)+","+(i+15)+" "+(u-15)+","+e+" "+s[f]+" ":o=="lt"?h+=r-15+","+i+" "+(r-15)+","+(e-15)+" "+u+","+(e-15)+" "+s[f]+" ":o=="tl"?h+=r+","+(i-15)+" "+(u-15)+","+(i-15)+" "+(u-15)+","+e+" "+s[f]+" ":o=="tb"?h+=r+","+(i-15)+" "+(u-y)+","+(i-15)+" "+(u-y)+","+(e+15)+" "+u+","+(e+15)+" "+s[f]+" ":o=="bt"?h+=r+","+(i+15)+" "+(u-y)+","+(i+15)+" "+(u-y)+","+(e-15)+" "+u+","+(e-15)+" "+s[f]+" ":o=="lr"?h+=r-15+","+i+" "+(r-15)+","+(i-p)+" "+(u+15)+","+(e-p)+" "+(u+15)+","+e+" "+s[f]+" ":o=="rl"&&(h+=r+15+","+i+" "+(r+15)+","+(i-p)+" "+(u-15)+","+(e-p)+" "+(u-15)+","+e+" "+s[f]+" "));n=h}}return n}function findLineArrayCollication(t){for(var h,i,a,v,e,o,c,u,f,s=t.split(" "),r="",l=0;l<line_array.length;l++)for(h=line_array[l].LinesData.split(" "),i=s[0].split(","),n=0;n<h.length-1;n++)for(a=h[n].split(","),v=h[n+1].split(","),e=0;e<s.length-1;e++)i=s[e].split(","),o=s[e+1].split(","),c=findLineCollication(i[0],i[1],o[0],o[1],a[0],a[1],v[0],v[1]),c!=null&&(u=parseFloat(c[0]),f=parseFloat(c[1]),i[0]==o[0]?(r+='<line x1="'+i[0]+'" y1="'+(f-5)+'" x2="'+i[0]+'" y2="'+(f-1.5)+'" stroke="white" stroke-width="4"/>',r+='<line x1="'+i[0]+'" y1="'+(f+5)+'" x2="'+i[0]+'" y2="'+(f+1.5)+'" stroke="white"  stroke-width="4" />',r+='<defs><clipPath id="cut-off-'+u+"-"+f+'">',r+='<rect class="closed" x="'+(u-15)+'" y="'+(f-15)+'" width="15" height="30" />',r+="<\/clipPath><\/defs>",r+='<circle cx="'+u+'" cy="'+f+'" r="7" stroke-width="3" stroke="black" fill-opacity="0" fill="white" clip-path="url(#cut-off-'+u+"-"+f+')"/>'):i[1]==o[1]&&(r+='<line x1="'+(u-5)+'" y1="'+i[1]+'" x2="'+(u-1.5)+'" y2="'+i[1]+'" stroke="white" stroke-width="4" />',r+='<line x1="'+(u+5)+'" y1="'+i[1]+'" x2="'+(u+1.5)+'" y2="'+i[1]+'" stroke="white"  stroke-width="4" />',r+='<defs><clipPath id="cut-off-'+u+"-"+f+'">',r+='<rect class="closed" x="'+(u-15)+'" y="'+(f-15)+'" width="30" height="15" />',r+="<\/clipPath><\/defs>",r+='<circle cx="'+u+'" cy="'+f+'" r="7" stroke-width="3" stroke="black" fill-opacity="0" fill="white" clip-path="url(#cut-off-'+u+"-"+f+')"/>'));return r}function add_theObject(n){for(var i=!1,t=0;t<object_array.length;t++)if(findObjectCollication(n,object_array[t])){i=!0;break}if(i)writeConsoleText("Object collision error / Objects are too close (min 40 px)","warning");else return n.ID="Object_"+(object_array.length+1),document.getElementById(id_theSVG).innerHTML+=n.Draw(),object_array.push(n),n;return null}function draw_theLine(n){return n.ID="Line_"+(line_array.length+1),document.getElementById(id_theSVG).innerHTML+=n.Draw(),line_array.push(n),n}var polyline_start="<polyline points=",polyline_end=' style="fill:none;stroke:black;stroke-width:2" marker-end="url(#arrow)" />',object_array=[],line_array=[],id_theSVG="demo",id_theDesc="desc",open_ruler=!1,fill_color="white",stroke_color="black",text_color="black",highlight_color="red";

